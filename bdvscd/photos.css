* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #f2f0ef; 
    overflow: hidden;
    font-family: Arial, sans-serif;
}

/* --- CANVAS STYLES --- */
#threadCanvas {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1; /* Behind photos */
    width: 100%;
    height: 100%;
}

.photo-container {
    position: relative;
    width: 100%;
    height: 100vh;
    z-index: 2; /* On top of canvas */
    /* Transition for final fade-out */
    transition: opacity 0.5s ease-out; 
}

.photo {
    /* STARTING position */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0) rotate(0deg);
    opacity: 0;

    /* LOOK (polaroid) */
    width: 30vmin; 
    height: 38vmin;
    background-color: #f2f0ef;
    border: 1vmin solid #f2f0ef;
    border-bottom-width: 4vmin;
    border-radius: 5px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    background-size: cover;
    background-position: center;
    
    /* Initial Animation settings */
    animation-duration: 1.5s;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.2, 0.9, 0.3, 1); 
    
    /* --- CRUCIAL: Define the TRANSITION for fly-away --- */
    transition: transform 1s ease-in, opacity 1s ease-in; 
}

/* --- Animation Delays & Z-Index --- */
#p1 { animation-name: p1-anim; animation-delay: 0s; }
#p2 { animation-name: p2-anim; animation-delay: 1.5s; }
#p3 { animation-name: p3-anim; animation-delay: 3s; }
#p4 { animation-name: p4-anim; animation-delay: 4.5s; }
#p5 { animation-name: p5-anim; animation-delay: 6s; }
#p6 { animation-name: p6-anim; animation-delay: 7.5s; }
#p7 { animation-name: p7-anim; animation-delay: 27s; z-index: 100; }
#p8 { animation-name: p8-anim; animation-delay: 10.5s; }
#p9 { animation-name: p9-anim; animation-delay: 12s; z-index: 2; }
#p10 { animation-name: p10-anim; animation-delay: 13.5s; }
#p11 { animation-name: p11-anim; animation-delay: 15s; z-index: 3;}
#p12 { animation-name: p12-anim; animation-delay: 16.5s; }
#p13 { animation-name: p13-anim; animation-delay: 18s; }
#p14 { animation-name: p14-anim; animation-delay: 19.5s; }
#p15 { animation-name: p15-anim; animation-delay: 21s; }
#p16 { animation-name: p16-anim; animation-delay: 22.5s; z-index: 1; }
#p17 { animation-name: p17-anim; animation-delay: 24s; z-index: 4;}
#p18 { animation-name: p18-anim; animation-delay: 25.5s; }
#p19 { animation-name: p19-anim; animation-delay: 9s; }

/* --- 19 Keyframes for final positions (Keep these) --- */
@keyframes p1-anim { /* Top Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 1%; left: 3%; transform: scale(1.1) rotate(-15deg); opacity: 1; }
}
@keyframes p2-anim { /* Mid Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 33%; left: 20%; transform: scale(0.9) rotate(5deg); opacity: 1; }
}
@keyframes p3-anim { /* Top Mid-Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 0%; left: 60%; transform: scale(1) rotate(-8deg); opacity: 1; }
}
@keyframes p4-anim { /* Mid Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 25%; left: 80%; transform: scale(1.1) rotate(10deg); opacity: 1; }
}
@keyframes p5-anim { /* Mid Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 36%; left: 4%; transform: scale(1) rotate(8deg); opacity: 1; }
}
@keyframes p6-anim { /* Low Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 60%; left: 14%; transform: scale(1.1) rotate(-10deg); opacity: 1; }
}
@keyframes p7-anim { /* Center (LAST) */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1.3) rotate(0deg); opacity: 1; } 
}
@keyframes p8-anim { /* Mid Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 53%; left: 58%; transform: scale(1) rotate(15deg); opacity: 1; }
}
@keyframes p9-anim { /* Low Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 66%; left: 81%; transform: scale(0.9) rotate(-5deg); opacity: 1; }
}
@keyframes p10-anim { /* Low Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 65%; left: -3%; transform: scale(1.1) rotate(-12deg); opacity: 1; }
}
@keyframes p11-anim { /* Low Mid-Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 71%; left: 40%; transform: scale(1) rotate(10deg); opacity: 1; }
}
@keyframes p12-anim { /* Low Mid-Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 73%; left: 65%; transform: scale(1.1) rotate(-5deg); opacity: 1; }
}
@keyframes p13-anim { /* Top Mid-Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 1%; left: 25%; transform: scale(1) rotate(10deg); opacity: 1; }
}
@keyframes p14-anim { /* Top Center */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: -3%; left: 42%; transform: scale(0.9) rotate(-10deg); opacity: 1; }
}
@keyframes p15-anim { /* Top Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: -4%; left: 79%; transform: scale(1) rotate(7deg); opacity: 1; }
}
@keyframes p16-anim { /* Mid Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 45%; left: 85%; transform: scale(1.1) rotate(-15deg); opacity: 1; }
}
@keyframes p17-anim { /* Low Center */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 75%; left: 50%; transform: scale(1) rotate(3deg); opacity: 1; }
}
@keyframes p18-anim { /* Mid Right */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 30%; left: 65%; transform: scale(0.9) rotate(15deg); opacity: 1; }
}
@keyframes p19-anim { /* Low Mid-Left */
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); opacity: 0; }
    100% { top: 60%; left: 28%; transform: scale(1.1) rotate(-7deg); opacity: 1; }
}

/* --- REMOVED .fly-away-transition class --- */

/* --- OUTRO CANVAS ZOOM --- */
#threadCanvas.zoom-in {
    transition: transform 1.5s ease-in, opacity 1s ease-out;
    transform: scale(20);
    opacity: 0; 
}